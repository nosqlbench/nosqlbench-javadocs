<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (23) -->
<title>RunStateTally (nosqlbench 5.23.0-SNAPSHOT)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: io.nosqlbench.engine.api.activityimpl.motor, class: RunStateTally">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/RunStateTally.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../search.html">Search</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<div class="about-language">nosqlbench 5.23.0-SNAPSHOT</div>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">io.nosqlbench.engine.api.activityimpl.motor</a></li>
<li><a href="RunStateTally.html" class="current-selection">RunStateTally</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a>
<ol class="toc-list">
<li><a href="#synopsis-heading" tabindex="0">Synopsis</a></li>
<li><a href="#purpose-heading" tabindex="0">Purpose</a></li>
<li><a href="#calling-semantics-heading" tabindex="0">Calling Semantics</a></li>
<li><a href="#invariants-heading" tabindex="0">Invariants</a></li>
</ol>
</li>
<li><a href="#field-summary" tabindex="0">Field Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#field-detail" tabindex="0">Field Details</a>
<ol class="toc-list">
<li><a href="#DEFAULT_TIMEOUT_MS" tabindex="0">DEFAULT_TIMEOUT_MS</a></li>
</ol>
</li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E()" tabindex="0">RunStateTally()</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#tallyFor(io.nosqlbench.engine.api.activityapi.core.RunState)" tabindex="0">tallyFor(RunState)</a></li>
<li><a href="#change(io.nosqlbench.engine.api.activityapi.core.RunState,io.nosqlbench.engine.api.activityapi.core.RunState)" tabindex="0">change(RunState, RunState)</a></li>
<li><a href="#add(io.nosqlbench.engine.api.activityapi.core.RunState)" tabindex="0">add(RunState)</a></li>
<li><a href="#remove(io.nosqlbench.engine.api.activityapi.core.RunState)" tabindex="0">remove(RunState)</a></li>
<li><a href="#awaitNoneOther(io.nosqlbench.engine.api.activityapi.core.RunState...)" tabindex="0">awaitNoneOther(RunState...)</a></li>
<li><a href="#awaitNoneOther(long,io.nosqlbench.engine.api.activityapi.core.RunState...)" tabindex="0">awaitNoneOther(long, RunState...)</a></li>
<li><a href="#awaitNoneOf(io.nosqlbench.engine.api.activityapi.core.RunState...)" tabindex="0">awaitNoneOf(RunState...)</a></li>
<li><a href="#awaitNoneOf(long,io.nosqlbench.engine.api.activityapi.core.RunState...)" tabindex="0">awaitNoneOf(long, RunState...)</a></li>
<li><a href="#awaitAny(io.nosqlbench.engine.api.activityapi.core.RunState...)" tabindex="0">awaitAny(RunState...)</a></li>
<li><a href="#awaitAny(long,io.nosqlbench.engine.api.activityapi.core.RunState...)" tabindex="0">awaitAny(long, RunState...)</a></li>
<li><a href="#toString(io.nosqlbench.engine.api.activityapi.core.RunState...)" tabindex="0">toString(RunState...)</a></li>
<li><a href="#toString()" tabindex="0">toString()</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class RunStateTally" class="title">Class RunStateTally</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.nosqlbench.engine.api.activityimpl.motor.RunStateTally</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">RunStateTally</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block"><H2 id="synopsis-heading">Synopsis</H2>
 <P>Event-oriented tally of the runtime states of all
 motor threads. This is meant to be used as the definitive
 aggregate scorecard for an activity's thread states.</P>
 <HR></HR>
 <H2 id="purpose-heading">Purpose</H2>
 <P>This limits inter-thread signaling requirements by constraining
 the cases for which blockers are notified. This is because the
 meaningful scenarios for which a blocker would want to be notified
 do not include changes of positive values to other positive values.
 This allows an explicit optimization around scenarios for which a
 state count increments to 1 or decrements to 0, as in "some" or "none".
 This is an effective optimization for scenarios with many active
 threads.
 </P>
 <HR></HR>
 <H2 id="calling-semantics-heading">Calling Semantics</H2>
 <P>Callers of the await functions will block for the required condition or,
 if specified, the timeout to occur without the condition.
 These callers are unblocked atomically, after any state add, state remove,
 or state change events are fully completed.</P>
 <P><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor"><code>RunStateImage</code></a> is returned from blocking methods so that
 callers can know consistently what the current run states were at
 the time their condition was met or timed out. Any callers of such
 methods <EM>must</EM> check for whether the condition was successfully
 met via <a href="RunStateImage.html#isTimeout()"><code>RunStateImage.isTimeout()</code></a></P>
 <HR></HR>
 <H2 id="invariants-heading">Invariants</H2>
 <UL>
     <LI>Under consistent usage patterns, all counts should be zero or positive at all times.</LI>
     <LI>The current count for each state should be equal to the visible <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core"><code>RunState</code></a> on each
     motor thread, as all transitions are made through the motor threads directly.</LI>
 </UL></div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>final long</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_TIMEOUT_MS" class="member-name-link">DEFAULT_TIMEOUT_MS</a></code></div>
<div class="col-last even-row-color">
<div class="block">If no timeout is given for any of the await methods, then the default is to wait for
 approximately many eons.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">RunStateTally</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#add(io.nosqlbench.engine.api.activityapi.core.RunState)" class="member-name-link">add</a><wbr>(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>&nbsp;state)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a previously untracked motor thread to state tracking with the provided <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core"><code>RunState</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor">RunStateImage</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#awaitAny(long,io.nosqlbench.engine.api.activityapi.core.RunState...)" class="member-name-link">awaitAny</a><wbr>(long&nbsp;timeoutMillis,
 <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Exactly like <a href="#awaitAny(io.nosqlbench.engine.api.activityapi.core.RunState...)"><code>awaitAny(RunState...)</code></a>, except that it allows for a timeout, after which
 the method will unblock and signal a timeout if the await condition is still not met.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor">RunStateImage</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#awaitAny(io.nosqlbench.engine.api.activityapi.core.RunState...)" class="member-name-link">awaitAny</a><wbr>(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Await until at least one of the provided runStates has a positive value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor">RunStateImage</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#awaitNoneOf(long,io.nosqlbench.engine.api.activityapi.core.RunState...)" class="member-name-link">awaitNoneOf</a><wbr>(long&nbsp;timeoutMillis,
 <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Exactly like <a href="#awaitNoneOf(io.nosqlbench.engine.api.activityapi.core.RunState...)"><code>awaitNoneOf(RunState...)</code></a>, except that it allows for a timeout, after which the
 method will unblock and signal a timeout if the await condition is still not met.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor">RunStateImage</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#awaitNoneOf(io.nosqlbench.engine.api.activityapi.core.RunState...)" class="member-name-link">awaitNoneOf</a><wbr>(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Await until there are zero counts for all of the specified <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core"><code>RunState</code></a>s.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor">RunStateImage</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#awaitNoneOther(long,io.nosqlbench.engine.api.activityapi.core.RunState...)" class="member-name-link">awaitNoneOther</a><wbr>(long&nbsp;timeoutMillis,
 <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Exactly like <a href="#awaitNoneOther(long,io.nosqlbench.engine.api.activityapi.core.RunState...)"><code>awaitNoneOther(long, RunState...)</code></a>, except that it allows for a timeout,
 after which the method will unblock and signal an error if the await condition is still false.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor">RunStateImage</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#awaitNoneOther(io.nosqlbench.engine.api.activityapi.core.RunState...)" class="member-name-link">awaitNoneOther</a><wbr>(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Await until all states but the provided <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core"><code>RunState</code></a>s have zero counts.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#change(io.nosqlbench.engine.api.activityapi.core.RunState,io.nosqlbench.engine.api.activityapi.core.RunState)" class="member-name-link">change</a><wbr>(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>&nbsp;from,
 <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>&nbsp;to)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Signal that a motor thread has left one <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core"><code>RunState</code></a> and entered another,
 atomically.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#remove(io.nosqlbench.engine.api.activityapi.core.RunState)" class="member-name-link">remove</a><wbr>(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>&nbsp;state)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a previously tracked motor thread from state tracking with the provided <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core"><code>RunState</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#tallyFor(io.nosqlbench.engine.api.activityapi.core.RunState)" class="member-name-link">tallyFor</a><wbr>(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>&nbsp;runState)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString(io.nosqlbench.engine.api.activityapi.core.RunState...)" class="member-name-link">toString</a><wbr>(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="DEFAULT_TIMEOUT_MS">
<h3>DEFAULT_TIMEOUT_MS</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">DEFAULT_TIMEOUT_MS</span></div>
<div class="block">If no timeout is given for any of the await methods, then the default is to wait for
 approximately many eons. Some tests run until told to stop.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../../constant-values.html#io.nosqlbench.engine.api.activityimpl.motor.RunStateTally.DEFAULT_TIMEOUT_MS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>RunStateTally</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">RunStateTally</span>()</div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="tallyFor(io.nosqlbench.engine.api.activityapi.core.RunState)">
<h3>tallyFor</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">tallyFor</span><wbr><span class="parameters">(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>&nbsp;runState)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>runState</code> - The <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core"><code>RunState</code></a> to count</dd>
<dt>Returns:</dt>
<dd>the current count for the specified state</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="change(io.nosqlbench.engine.api.activityapi.core.RunState,io.nosqlbench.engine.api.activityapi.core.RunState)">
<h3>change</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">change</span><wbr><span class="parameters">(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>&nbsp;from,
 <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>&nbsp;to)</span></div>
<div class="block">Signal that a motor thread has left one <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core"><code>RunState</code></a> and entered another,
 atomically. After both counts are updated, if any RunState counts changed to or from zero,
 then all potential observers are notified to re-evaluate their await conditions.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>from</code> - the prior RunState</dd>
<dd><code>to</code> - the next RunState</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="add(io.nosqlbench.engine.api.activityapi.core.RunState)">
<h3>add</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">add</span><wbr><span class="parameters">(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>&nbsp;state)</span></div>
<div class="block">Add a previously untracked motor thread to state tracking with the provided <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core"><code>RunState</code></a>.
 If the given state's count becomes non-zero, then all potential observers are notified to re-evaluate
 their await conditions.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The initial tracking state for the related motor thread</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="remove(io.nosqlbench.engine.api.activityapi.core.RunState)">
<h3>remove</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">remove</span><wbr><span class="parameters">(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>&nbsp;state)</span></div>
<div class="block">Remove a previously tracked motor thread from state tracking with the provided <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core"><code>RunState</code></a>.
 If the given state's count becomes zero, then all potential observers are notified to re-evaluate
 their await conditions.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The final tracking state for the related motor thread</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="awaitNoneOther(io.nosqlbench.engine.api.activityapi.core.RunState...)">
<h3>awaitNoneOther</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor">RunStateImage</a></span>&nbsp;<span class="element-name">awaitNoneOther</span><wbr><span class="parameters">(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</span></div>
<div class="block">Await until all states but the provided <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core"><code>RunState</code></a>s have zero counts.
 This condition matches if the provided states have zero or positive counts <EM>if and only if</EM>
 all other states have zero counts. Thus, if there are no positive values at all, this condition will
 still match.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>runStates</code> - The states which <EM>may</EM> have zero counts and still match the condition</dd>
<dt>Returns:</dt>
<dd>A <a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor"><code>RunStateImage</code></a>, indicating success or failure, and the view of states at the time of evaluation</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="awaitNoneOther(long,io.nosqlbench.engine.api.activityapi.core.RunState...)">
<h3>awaitNoneOther</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor">RunStateImage</a></span>&nbsp;<span class="element-name">awaitNoneOther</span><wbr><span class="parameters">(long&nbsp;timeoutMillis,
 <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</span></div>
<div class="block">Exactly like <a href="#awaitNoneOther(long,io.nosqlbench.engine.api.activityapi.core.RunState...)"><code>awaitNoneOther(long, RunState...)</code></a>, except that it allows for a timeout,
 after which the method will unblock and signal an error if the await condition is still false.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>runStates</code> - RunStates which are the only valid states before unblocking</dd>
<dt>Returns:</dt>
<dd>A <a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor"><code>RunStateImage</code></a>, indicating success or failure, and the view of states at the time of evaluation</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="awaitNoneOf(io.nosqlbench.engine.api.activityapi.core.RunState...)">
<h3>awaitNoneOf</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor">RunStateImage</a></span>&nbsp;<span class="element-name">awaitNoneOf</span><wbr><span class="parameters">(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</span></div>
<div class="block">Await until there are zero counts for all of the specified <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core"><code>RunState</code></a>s.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>runStates</code> - all RunStates which must be zeroed before unblocking</dd>
<dt>Returns:</dt>
<dd>A <a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor"><code>RunStateImage</code></a>, indicating success or failure, and the view of states at the time of evaluation</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="awaitNoneOf(long,io.nosqlbench.engine.api.activityapi.core.RunState...)">
<h3>awaitNoneOf</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor">RunStateImage</a></span>&nbsp;<span class="element-name">awaitNoneOf</span><wbr><span class="parameters">(long&nbsp;timeoutMillis,
 <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</span></div>
<div class="block">Exactly like <a href="#awaitNoneOf(io.nosqlbench.engine.api.activityapi.core.RunState...)"><code>awaitNoneOf(RunState...)</code></a>, except that it allows for a timeout, after which the
 method will unblock and signal a timeout if the await condition is still not met.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>runStates</code> - all RunStates which must be zeroed before unblocking</dd>
<dt>Returns:</dt>
<dd>A <a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor"><code>RunStateImage</code></a>, indicating success or failure, and the view of states at the time of evaluation</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="awaitAny(io.nosqlbench.engine.api.activityapi.core.RunState...)">
<h3>awaitAny</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor">RunStateImage</a></span>&nbsp;<span class="element-name">awaitAny</span><wbr><span class="parameters">(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</span></div>
<div class="block">Await until at least one of the provided runStates has a positive value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>runStates</code> - RunStates any of which allow unblocking</dd>
<dt>Returns:</dt>
<dd>A <a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor"><code>RunStateImage</code></a>, indicating success or failure, and the view of states at the time of evaluation</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="awaitAny(long,io.nosqlbench.engine.api.activityapi.core.RunState...)">
<h3>awaitAny</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor">RunStateImage</a></span>&nbsp;<span class="element-name">awaitAny</span><wbr><span class="parameters">(long&nbsp;timeoutMillis,
 <a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</span></div>
<div class="block">Exactly like <a href="#awaitAny(io.nosqlbench.engine.api.activityapi.core.RunState...)"><code>awaitAny(RunState...)</code></a>, except that it allows for a timeout, after which
 the method will unblock and signal a timeout if the await condition is still not met.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timeoutMillis</code> - Milliseconds to wait for any of the runstates before giving up</dd>
<dd><code>runStates</code> - RunStates any of which allow unblocking</dd>
<dt>Returns:</dt>
<dd>A <a href="RunStateImage.html" title="class in io.nosqlbench.engine.api.activityimpl.motor"><code>RunStateImage</code></a>, indicating success or failure, and the view of states at the time of evaluation</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="toString(io.nosqlbench.engine.api.activityapi.core.RunState...)">
<h3>toString</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span><wbr><span class="parameters">(<a href="../../activityapi/core/RunState.html" title="enum class in io.nosqlbench.engine.api.activityapi.core">RunState</a>...&nbsp;runStates)</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>
