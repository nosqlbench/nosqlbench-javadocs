<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (23) -->
<title>io.nosqlbench.nb.api.components (nosqlbench 5.23.0-SNAPSHOT)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: io.nosqlbench.nb.api.components">
<meta name="generator" content="javadoc/PackageWriter">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../search.html">Search</a></li>
<li><a href="../../../../../help-doc.html#package">Help</a></li>
</ul>
<div class="about-language">nosqlbench 5.23.0-SNAPSHOT</div>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html" class="current-selection">io.nosqlbench.nb.api.components</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a>
<ol class="toc-list">
<li><a href="#components-defined-heading" tabindex="0">Components Defined</a></li>
<li><a href="#adoption-strategy-heading" tabindex="0">Adoption Strategy</a></li>
<li><a href="#component-system-design-heading" tabindex="0">Component System Design</a></li>
<li><a href="#types-of-components-heading" tabindex="0">Types of Components</a></li>
<li><a href="#labeling-consistency-and-interlocks-heading" tabindex="0">Labeling Consistency and interlocks</a></li>
</ol>
</li>
<li><a href="#related-package-summary" tabindex="0">Related Packages</a></li>
</ol>
</nav>
<main role="main">
<div class="header">
<h1 title="Package io.nosqlbench.nb.api.components" class="title">Package io.nosqlbench.nb.api.components</h1>
</div>
<hr>
<div class="horizontal-scroll">
<div class="package-signature">package <span class="element-name">io.nosqlbench.nb.api.components</span></div>
<section class="package-description" id="package-description">
<div class="block"><P>The component types in this package create a basic structural and lifecycle
 pattern that NoSQLBench runtimes should build upon. This allows leverage of
 the base component types to achieve:
 <UL>
 <LI>consistent runtime behavior between modules</LI>
 <LI>modular composition of runtime modules in different configurations</LI>
 <LI>a uniform configuration interface across all components</LI>
 <LI>exposition of foundational runtime structure to users</LI>
 <LI>consistent layering of components and their lifetimes at different runtime scopes</LI>
 <LI>a naming and metadata based view which allows for components to be managed in a tangible way</LI>
 <LI>a consistent manifest and registry interface for attached elements, like metrics</LI>
 </UL>
 </P>
 <hr/>

 <H2 id="components-defined-heading">Components Defined</H2>
 <P>There can be different layers or types of components, but there is only one component hierarchy in each
 NoSQLBench process. Basically the Session is a component. Each activity container within a session is a component.
 Each activity within a container is a component. Whether something is meaningful as a component depends on whether
 the management facilities provided by the component API make using, interacting with, or understanding that element
 better for users. However there is a limit to how fine-grained the component hierarchy should be allowed to get.
 This
 is because maintaining the component structure at runtime incurs a cost, and most features of the component types
 are
 related to assemblage of fixtures in the runtime which are configured and initialized before steady state processing
 begins. For example, it makes sense to wire an activity as component, but not an operation, since an operation is
 ephemeral and short lived. Apart from these trade-offs, make a layer a component layer if it makes sense for the
 user
 and/or the developer, as consolidating the logic into the component layer is beneficial to both.</P>

 <H2 id="adoption-strategy-heading">Adoption Strategy</H2>
 <P>Consolidating existing logic to use the component types will be an incremental process. The base contract type
 <a href="core/NBComponent.html" title="interface in io.nosqlbench.nb.api.components.core"><code>NBComponent</code></a> establishes the contract for any conforming types. As
 contract facets are added to this type, common logic can be implemented on the base implementation types where
 possible, allowing for the elision of duplicitous code from prior functionality.</P>
 <p>
 <p>
 <hr/>

 <H2 id="component-system-design-heading">Component System Design</H2>
 <P><strong>All</strong> key types in the NBComponent system must have names starting with <em>NBComponent</em>.</P>

 <P>Components are structured hierarchically. All components exist within the scope of their parent, with the only
 exception being the root component, which has no parent. Components always know their parent from construction time.
 After a component is constructed, it is informed of child components being added and removed via
 <a href="core/NBComponent.html#attachChild(io.nosqlbench.nb.api.components.core.NBComponent...)"><code>NBComponent.attachChild(io.nosqlbench.nb.api.components.core.NBComponent...)</code></a> and
 <a href="core/NBComponent.html#detachChild(io.nosqlbench.nb.api.components.core.NBComponent...)"><code>NBComponent.detachChild(io.nosqlbench.nb.api.components.core.NBComponent...)</code></a>
 methods.</P>

 <P>Component-specific logic should interact with other components using the component interfaces and types. No
 contextual typing or casting should be allowed within the component layer methods, except in the case that types
 outside of the component type system are leveraging component layers for features of other non-component types. In
 other words, Component APIs should be thought of as a layer of primitives which sit on top of low-level Java
 primitive, and below those types which use them. Component logic can't understand higher types without breaking the
 seal on a useful abstraction. Components only understand components by design, and breaking this abstraction is
 counter-productive at best.</P>

 <P>Utility classes which understand how to interact with components should be used where possible when the
 capabilities they provide are well-themed and cohesive. A Corollary to this is that each interface added to the core
 component type should be solely informational about the structure and properties of the component hierarchy when
 possible. This will help organize usage patterns around themed utilities and keep the surface area of the core types
 to a minimum.</p>
 <HR/>
 <H2 id="types-of-components-heading">Types of Components</H2>
 The purpose of a component can determine its style of implementation.

 <H3 id="life-cycle-oriented-components-heading">Life-cycle Oriented Components</H3>
 <P>Life-cycle components represent executions of some user-managed scope, like session, scenarios, or activities.
 These components model the nesting structure of threads of execution, or for activities, groups of threads. As such,
 any sub-components they have are generally there to augment or contextualize the execution of the life-cycle
 component.</P>
 <P>Life-cycle components may control the life-line of its sub-components. In that case, when the life-cycle
 component
 is ready to finish its own execution, it should directly inform all components attached to it that it is time for
 them to do final housekeeping, including any final buffering and sending, connection tear-down, etc. As components,
 the parent
 component may not know what the details of these housekeeping steps are directly. But components are always
 something else too, and in the type-specific implementations which are triggered by component methods, appropriate
 integrations can take place indirectly through the component API or events.</P>
 <P>In other life-cycle components, the parent component can be thought of as a passive container over child
 components which
 may exit on their own terms. In this case, the parent component should have appropriate eventing and state tracking
 so that
 its life-cycle is properly bounded around the sub components. In other words, it would be a bug if all the sub
 components
 had completed their work and the parent component sat idle in the component hierarchy without completing itself or
 alternately
 sending events to trigger some other life-cycle cleanup. How this is handled is not specific explicitly for all
 components.
 Still, it is a design error to have idle components in the hierarchy with no durable life-cycle cleanup
 mechanism.</P>

 <H3 id="service-oriented-components-heading">Service Oriented Components</H3>
 <p>Service components are those which are created as an attachment to other components. They may or may not have
 additional asynchronous behavior with respect to their parent component, but they are always in service of the parent
 component. For example, metrics instruments like counters are passive, but reporters which send these metrics outside
 of the system are active and on a schedule. Service-oriented components generally do not control the duration of
 their lifetimes. When they are working properly, they exist along-side and attached to their parent component for the
 full lifetime of that parent, and then are reaped on demand by the parent component.</p>
 <P>Ideally reaping of sub-components like this occurs naturally because of standard GC reachability rules. For this to
 work reliably, it is important that you attach components and their children correctly with the component tree, and
 avoid creating extraneous references across unrelated components or across component layers.</P>
 <p>
 <HR/>
 <H2 id="labeling-consistency-and-interlocks-heading">Labeling Consistency and interlocks</H2>
 TODO: labeling consistency</div>
</section>
</div>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="core/package-summary.html">io.nosqlbench.nb.api.components.core</a></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><a href="decorators/package-summary.html">io.nosqlbench.nb.api.components.decorators</a></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><a href="events/package-summary.html">io.nosqlbench.nb.api.components.events</a></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><a href="status/package-summary.html">io.nosqlbench.nb.api.components.status</a></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</div>
</li>
</ul>
</section>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>
